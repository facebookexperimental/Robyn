<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Quick Start | Robyn</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Quick Start | Robyn"><meta data-react-helmet="true" name="description" content="Once you have loaded all scripts, we will focus on the â€˜.exec.Râ€™ one to quickly start testing the code and understanding how to use it. Below you will find the steps to follow:"><meta data-react-helmet="true" property="og:description" content="Once you have loaded all scripts, we will focus on the â€˜.exec.Râ€™ one to quickly start testing the code and understanding how to use it. Below you will find the steps to follow:"><meta data-react-helmet="true" property="og:url" content="https://facebookexperimental.github.io/Robyn//Robyn/docs/doc3"><link data-react-helmet="true" rel="shortcut icon" href="/Robyn/img/robyn_logo.png"><link data-react-helmet="true" rel="canonical" href="https://facebookexperimental.github.io/Robyn//Robyn/docs/doc3"><link rel="stylesheet" href="/Robyn/styles.68a92949.css">
<link rel="preload" href="/Robyn/styles.4cc764fa.js" as="script">
<link rel="preload" href="/Robyn/runtime~main.3637bd7a.js" as="script">
<link rel="preload" href="/Robyn/main.ccfdadb7.js" as="script">
<link rel="preload" href="/Robyn/1.9195704b.js" as="script">
<link rel="preload" href="/Robyn/2.a0708de6.js" as="script">
<link rel="preload" href="/Robyn/37.8847f74d.js" as="script">
<link rel="preload" href="/Robyn/38.3475b877.js" as="script">
<link rel="preload" href="/Robyn/f0959ab0.02453dde.js" as="script">
<link rel="preload" href="/Robyn/17896441.adbb25ee.js" as="script">
<link rel="preload" href="/Robyn/616665f6.99c27961.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Robyn/"><img class="navbar__logo" src="/Robyn/img/robyn_logo.png" alt="Robyn Logo"><strong class="navbar__title">Robyn</strong></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Robyn/docs/doc11">About Robyn</a><a href="https://github.com/facebookexperimental/Robyn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Robyn/"><img class="navbar__logo" src="/Robyn/img/robyn_logo.png" alt="Robyn Logo"><strong class="navbar__title">Robyn</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Robyn/docs/doc11">About Robyn</a></li><li class="menu__list-item"><a href="https://github.com/facebookexperimental/Robyn" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">How-to guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/">Installation</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Robyn/docs/doc3">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/doc12">Step-by-step guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc4">Ridge Regression</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc5">Variable Transformations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc6">Facebook Prophet - Trend, Seasonality and Holiday Effects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc7">Automated hyperparameter selection and optimization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc8">Calibration using experimental results</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc9">Outputs and diagnostics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc10">Getting help and contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/doc11">About Robyn</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Quick Start</h1></header><div class="markdown"><p><strong>Once you have loaded all scripts, we will focus on the â€˜.exec.Râ€™ one to quickly start testing the code and understanding how to use it. Below you will find the steps to follow:</strong>  </p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="load-packages"></a>Load packages<a aria-hidden="true" tabindex="-1" class="hash-link" href="#load-packages" title="Direct link to heading">#</a></h2><p>You will utilize several open source packages to run this code, please install and load all libraries before running it. You will find several packages related to working with data tables, loops, parallel computing and plotting results, however the package for the core regression process is library(glmnet) from which the ridge regression will execute. </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="please-make-sure-to-install-all-libraries-before-running-the-scripts"></a>Please make sure to install all libraries before running the scripts<a aria-hidden="true" tabindex="-1" class="hash-link" href="#please-make-sure-to-install-all-libraries-before-running-the-scripts" title="Direct link to heading">#</a></h4><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">library(glmnet)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">...</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="load-data"></a>Load data<a aria-hidden="true" tabindex="-1" class="hash-link" href="#load-data" title="Direct link to heading">#</a></h2><p>First you will load the data and create the outcome variable. As in any MMM, this is a dataframe with a minimum set of columns ds and y, containing the date and numeric value respectively. You may also want to add regressors variables to account for different marketing channels and their investment, impressions or any other metric to determine the size and impact of marketing campaigns.
Please have in mind that this automated file reading solution requires that you are using RStudio and that it will set your working directory as the source file location in Rstudio.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### load data</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">script_path &lt;- str_sub(rstudioapi::getActiveDocumentContext()$path, start = 1, end = max(unlist(str_locate_all(rstudioapi::getActiveDocumentContext()$path, &quot;/&quot;))))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dt_input &lt;- fread(paste0(script_path,&#x27;de_simulated_data.csv&#x27;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">holidays &lt;- fread(paste0(script_path,&#x27;generated_holidays.csv&#x27;)</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="set-global-parameters"></a>Set global parameters<a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-global-parameters" title="Direct link to heading">#</a></h2><p>The next step is to define the variables you will be working with from the previously uploaded data. There are different types of variables, as mentioned above, the main three ones are dependent (set_depVarName), date (set_dateVarName) and media volume (set_mediaVarName). </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### define variables</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_dateVarName &lt;- c(&quot;DATE&quot;) # date must be format &quot;2020-01-01&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_depVarName &lt;- c(&quot;revenue&quot;) # there should be only one dependent variable</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_mediaVarName &lt;- c(&quot;tv_S&quot;, &quot;facebook_I&quot; ) # c(&quot;revenue&quot;, &quot;tv_S&quot;, &quot;ooh_S&quot;, &quot;print_S&quot;, &quot;facebook_I&quot;    , &quot;search_clicks_P&quot;, &quot;search_imps_P&quot;, &quot;search_S&quot;, &quot;competitor_sales_B&quot;) we recommend to use media pressure metrics like impressions, GRP etc for the model. If not applicable, use spend instead</span></div></div></div></div></div><p>Moreover, You will have to define which base variables (set_baseVarName) provided by the code or that you own to use, we recommend at least to keep the trend and holidays in the model.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_baseVarName &lt;- c(&quot;TREND&quot;,&quot;HOLIDAYS&quot;,&quot;SEASONAL&quot;, &quot;competitor_sales_B&quot;) </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">##### &quot;TREND&quot;, &quot;HOLIDAYS&quot;,&quot;SEASONAL&quot;, &quot;WEEKDAY&quot;, &quot;HOURLY&quot; are provided by the code. </span></div></div></div></div></div><p>Finally, you will find two variables for sign control, these will control for constrained variables that theoretically have to be greater than zero (positive), lower than zero (negative), or can take just any coefficient values (default).You will see there are media and base variables sign control so you will have to define them on separate variables:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_mediaVarSign &lt;- c(&quot;positive&quot;, &quot;positive&quot;) # c(&quot;default&quot;, &quot;positive&quot;, and &quot;negative&quot;), control the signs of coefficients for media variables</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_baseVarSign &lt;- c(&quot;default&quot;, &quot;default&quot;, &quot;default&quot;, &quot;negative&quot;) # c(&quot;default&quot;, &quot;positive&quot;, and &quot;negative&quot;), control the signs of coefficients for base variables</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="set-cores-for-parallel-computing"></a>Set cores for parallel computing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-cores-for-parallel-computing" title="Direct link to heading">#</a></h2><p>Next we will define the amount of cores to allocate to the overall process. Please bear in mind to always leave one or two cores out of the total number of cores your machine has to prevent your OS from crashing.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### set cores for parallel computing</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registerDoSEQ(); detectCores()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">setCores &lt;- 6</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="set-model-core-features"></a>Set model core features<a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-model-core-features" title="Direct link to heading">#</a></h2><p>The following step is crucial, this is where you will define if you will be using weibull or geometric adstock functions (Please refer to the variables transformation section within this documentation). You will also need to define the number of iterations for the algorithm to loop and find optimal hyperparameter values.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### set model core features</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">adstock &lt;- &quot;geometric&quot; # geometric or weibull</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">iterN &lt;- 1000 # &quot;rs&quot; iteration is theoretically unlimited.</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="set-hyperparameters-bounds"></a>Set hyperparameters bounds<a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-hyperparameters-bounds" title="Direct link to heading">#</a></h2><p>This is an optional step as there is absolutely no need to change it. You may edit bounds in case you already found optimal ranges for parameters after several iterations. We recommend you leave it as it is at the beginning.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### set hyperparameters</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">no need to change</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">hypBound &lt;- list(thetas = c(0, 0.9999) ,shapes = c(0, 5) ,scales = c(0.0001, 0.9999), </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                 alphas = c(0, 5) ,gammas = c(0.0001, 0.9999) ,lambdas = c(0, 1))</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="set-model-train-and-test-size"></a>Set model train and test size<a aria-hidden="true" tabindex="-1" class="hash-link" href="#set-model-train-and-test-size" title="Direct link to heading">#</a></h2><p>On this step you will define the percentage of your data you will be saving to test the model once it has been trained and validated. We recommend assigning 80% for training purposes.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_mod_train_size &lt;- 0.8 # 0.8 means taking 80% of data to train and 20% to test the model</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="define-experimental-results-and-calibration"></a>Define experimental results and calibration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#define-experimental-results-and-calibration" title="Direct link to heading">#</a></h2><p>The last step in variable definition is to add incremental studies data in case you have information available, such as conversion lift data for Facebook. You will need to first define calibrateLift &lt;- T to include calibration in your model. Consequently, you will need to define which channels you want to define certain incremental values for as well as, start, end and incremental absolute values (liftAbs) from the studies. </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">calibrateLift &lt;- F</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">set_lift &lt;- data.table(channel = c(&quot;facebook_I&quot;,  &quot;tv_S&quot;, &quot;facebook_I&quot;),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       liftStartDate = as.Date(c(&quot;2018-05-01&quot;, &quot;2017-11-27&quot;, &quot;2018-07-01&quot;)),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       liftEndDate = as.Date(c(&quot;2018-06-10&quot;, &quot;2017-12-03&quot;, &quot;2018-07-20&quot;)),</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                       liftAbs = c(70000000, 5000000, 50000000))</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="loading-scripts-and-running-the-model"></a>Loading scripts and running the model<a aria-hidden="true" tabindex="-1" class="hash-link" href="#loading-scripts-and-running-the-model" title="Direct link to heading">#</a></h2><p>Once you have defined all the variables from previous steps, you will need to finally execute the â€˜.func.Râ€™ and â€™.plot.Râ€™ scripts in order to run the model. Therefore you will need to load the scripts first, run the models and print results as per below: </p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### load scripts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">source(paste(script_path, &quot;fb_nextgen_mmm_v19.func.R&quot;, sep=&quot;&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">source(paste(script_path, &quot;fb_nextgen_mmm_v19.bayes.R&quot;, sep=&quot;&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">source(paste(script_path, &quot;fb_nextgen_mmm_v19.plot.R&quot;, sep=&quot;&quot;))</span></div></div></div></div></div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### Run model scripts</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">if (hyperparamOptim == &quot;rs&quot;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sysTimeRS &lt;- system.time({</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    resultRS &lt;- f.mmm(hyperparameters,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                      iterRS = iterN,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                      hyperparamOptim = &quot;rs&quot;,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                      setCores = setCores</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    )})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  #print(head(resultRS$resultCollect$resultHypParam, 15))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bestParRS &lt;- f.getBestParRS(resultRS, calibrateLift)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  best.resultRS &lt;- f.mmm(bestParRS, hyperparamOptim = &quot;rs&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">} }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">registerDoSEQ(); getDoParWorkers()</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="plotting-results"></a>Plotting results<a aria-hidden="true" tabindex="-1" class="hash-link" href="#plotting-results" title="Direct link to heading">#</a></h2><p>Once all iterations are finished you will proceed to plot different charts that will help you assess the models accuracy, business contribution for marketing channels and baseline variables.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">#### insert TRUE into plot functions to plot</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f.plotHyperSamp(F) # plot latin hypercube hyperparameter sampling balance</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f.plotTrendSeason(F) # plot prophet trend, season and holiday decomposition</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f.plotBestMod(T) # plot best model with 5 plots: media adstocking, sales decomp, actual vs fitted over time, sales decomp area plot &amp; channel response curve</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f.plotMAPE.RS(F) # plot RS MAPE convergence, only for random search</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f.plotBestModResid(F) # plot best model diagnostics: residual vs fitted, QQ plot and residual vs. actual</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">f.plotHypConverge(F) # plot hyperparameter vs MAPE convergence</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebookexperimental/Robyn/docs/doc3.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Robyn/docs/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Installation</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Robyn/docs/doc12"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Step-by-step guide Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#load-packages" class="table-of-contents__link">Load packages</a></li><li><a href="#load-data" class="table-of-contents__link">Load data</a></li><li><a href="#set-global-parameters" class="table-of-contents__link">Set global parameters</a></li><li><a href="#set-cores-for-parallel-computing" class="table-of-contents__link">Set cores for parallel computing</a></li><li><a href="#set-model-core-features" class="table-of-contents__link">Set model core features</a></li><li><a href="#set-hyperparameters-bounds" class="table-of-contents__link">Set hyperparameters bounds</a></li><li><a href="#set-model-train-and-test-size" class="table-of-contents__link">Set model train and test size</a></li><li><a href="#define-experimental-results-and-calibration" class="table-of-contents__link">Define experimental results and calibration</a></li><li><a href="#loading-scripts-and-running-the-model" class="table-of-contents__link">Loading scripts and running the model</a></li><li><a href="#plotting-results" class="table-of-contents__link">Plotting results</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebookexperimental/Robyn" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_1zJy"><img class="footer__logo" alt="Facebook Open Source Logo" src="/Robyn/img/oss_logo.png"></a></div><div>Copyright Â© 2020 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Robyn/styles.4cc764fa.js"></script>
<script src="/Robyn/runtime~main.3637bd7a.js"></script>
<script src="/Robyn/main.ccfdadb7.js"></script>
<script src="/Robyn/1.9195704b.js"></script>
<script src="/Robyn/2.a0708de6.js"></script>
<script src="/Robyn/37.8847f74d.js"></script>
<script src="/Robyn/38.3475b877.js"></script>
<script src="/Robyn/f0959ab0.02453dde.js"></script>
<script src="/Robyn/17896441.adbb25ee.js"></script>
<script src="/Robyn/616665f6.99c27961.js"></script>
</body>
</html>