<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/Robyn/blog/rss.xml" title="Robyn Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Robyn/blog/atom.xml" title="Robyn Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-TMZK4YFDGL","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TMZK4YFDGL"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TMZK4YFDGL",{anonymize_ip:!0})</script><title data-react-helmet="true">Automated hyperparameter selection and optimization | Robyn</title><meta data-react-helmet="true" property="og:url" content="https://facebookexperimental.github.io/Robyn/docs/automated-hyperparameter-selection-optimization"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Automated hyperparameter selection and optimization | Robyn"><meta data-react-helmet="true" name="description" content="MMMs are likely to contain high cardinality of parameters. ie. alphas and gammas for the diminishing returns (Hill) function, as well as, thetas for geometric ad stock transformation."><meta data-react-helmet="true" property="og:description" content="MMMs are likely to contain high cardinality of parameters. ie. alphas and gammas for the diminishing returns (Hill) function, as well as, thetas for geometric ad stock transformation."><link data-react-helmet="true" rel="shortcut icon" href="/Robyn/img/robyn_logo.png"><link data-react-helmet="true" rel="canonical" href="https://facebookexperimental.github.io/Robyn/docs/automated-hyperparameter-selection-optimization"><link data-react-helmet="true" rel="alternate" href="https://facebookexperimental.github.io/Robyn/docs/automated-hyperparameter-selection-optimization" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://facebookexperimental.github.io/Robyn/docs/automated-hyperparameter-selection-optimization" hreflang="x-default"><link rel="stylesheet" href="/Robyn/assets/css/styles.eb6bc5db.css">
<link rel="preload" href="/Robyn/assets/js/runtime~main.8e7a0700.js" as="script">
<link rel="preload" href="/Robyn/assets/js/main.8b0f92d0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Robyn/"><img src="/Robyn/img/robyn_logo.png" alt="Robyn Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/Robyn/img/robyn_logo.png" alt="Robyn Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Robyn</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Robyn/docs/">Docs</a><a class="navbar__item navbar__link" href="/Robyn/docs/about">About</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookexperimental/Robyn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Robyn/"><img src="/Robyn/img/robyn_logo.png" alt="Robyn Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/Robyn/img/robyn_logo.png" alt="Robyn Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Robyn</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/Robyn/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/Robyn/docs/about">About</a></li><li class="menu__list-item"><a href="https://github.com/facebookexperimental/Robyn" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How-to guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/quick-start">Quick Start</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/Robyn/docs/step-by-step-guide">Step-by-step guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/ridge-regression">Ridge Regression</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/variable-transformations">Variable Transformations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/facebook-prophet">Facebook Prophet - Trend, Seasonality and Holiday Effects</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Robyn/docs/automated-hyperparameter-selection-optimization">Automated hyperparameter selection and optimization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/calibration">Calibration using experimental results</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/outputs-diagnostics">Outputs and diagnostics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/contributing">Getting help and contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Robyn/docs/about">About Robyn</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Automated hyperparameter selection and optimization</h1></header><div class="markdown"><p>MMMs are likely to <strong>contain high cardinality of parameters</strong>. ie. alphas and gammas for the diminishing returns (Hill) function, as well as, thetas for geometric ad stock transformation.
In addition, parameters dimensionality increases proportionally with the total number of marketing channels to be measured. Thus, it is extremely necessary to deal with a high dimensionality parameter space where, the greater the number of parameters, <strong>the greater the model complexity, its dimensionality and computational requirements.</strong></p><p>In order to achieve computational efficiency while optimizing overall model accuracy, we leverage <a href="https://facebookresearch.github.io/nevergrad/" target="_blank" rel="noopener noreferrer"><strong>Facebookâ€™s Nevergrad gradient-free optimization platform</strong></a>.  Nevergrad allows us to optimize the explore and exploit balance through the <strong>ask</strong> and <strong>tell</strong> commands, in order to perform a multi-objective optimization tha balances out the Normalized Root Mean Square Error (<strong>NRMSE</strong>) and <strong>decomp.RSSD</strong> ratio (Relationship between spend share and channels coefficient decomposition share) providing a set of <strong>Pareto optimal model solutions</strong></p><p>Please find below an example of a common chart for the Pareto model solutions. Each dot in the chart represents an explored model solution, while the first three lines in the lower-left corner represent the best model solutions.</p><img alt="pareto chart" src="/Robyn/img/pareto1.png"><p>The premise of an <strong>evolutionary algorithm</strong> is that of natural selection. In an EA you may have a set of iterations where some combinations of coefficients that will be explored by the model will survive and proliferate, while unfit models will die off and not contribute to the gene pool of further generations, much like in natural selection. In robyn, we recommend a minimum of 500 iterations where each of these will provide feedback to its upcoming generation, and therefore guide the model towards the optimal coefficient values for alphas, gammas and thetas. We also recommend a minimum of 40 trials which are a set of independent initiations of the model that will each of them have the number of iterations you set under â€˜set_iterâ€™ object. E.g. 500 iterations on set_iter x 40 trials = 20000 different iterations and possible model solutions.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebookexperimental/Robyn/docs/automated-hyperparameter-selection-optimization.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Robyn/docs/facebook-prophet"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Facebook Prophet - Trend, Seasonality and Holiday Effects</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Robyn/docs/calibration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Calibration using experimental results Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebookexperimental/Robyn" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/BYhqMedCcN" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord chat</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Legal</h4><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy</a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/Robyn/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/Robyn/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright Â© 2021 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Robyn/assets/js/runtime~main.8e7a0700.js"></script>
<script src="/Robyn/assets/js/main.8b0f92d0.js"></script>
</body>
</html>